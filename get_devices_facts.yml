---
- name: Get Device Facts
  hosts: juniper
  roles:
    - Juniper.junos
  connection: local
  gather_facts: no
  
  vars_prompt:
    - name: "DEVICE_PASSWORD"
      prompt: "Device password"
     private: yes
  
  vars:
     provider_info:
      host: "{{ inventory_hostname }}"
      password: "{{ DEVICE_PASSWORD }}"
      mode: "ssh"
      port: 22


  tasks:
    - name: Retrieve facts from device running Junos OS
      juniper_junos_facts:
        host: "{{ inventory_hostname }}"
        savedir: "{{ playbook_dir }}"
    - name: Print version
      debug:
        var: junos.version